<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data noupdate="1">

        <!-- Sequences for deferred.action -->
        <record id="seq_type_deferred_action" model="ir.sequence.type">
            <field name="name">Deferred Action</field>
            <field name="code">deferred.action</field>
        </record>

        <record id="seq_deferred_action" model="ir.sequence">
            <field name="name">Deferred Action</field>
            <field name="code">deferred.action</field>
            <field name="prefix">D</field>
            <field name="padding">8</field>
        </record>

        <!-- Cron for deferred actions -->
        <record model="ir.cron" id="cron_deferred_action">
            <field name="name">Deferred Actions</field>
            <field name="model">deferred.action</field>
            <field name="user_id" ref="base.user_root"/>
            <field name="interval_type">minutes</field>
            <field name="interval_number" eval="1"/>
            <field name="numbercall" eval="-1"/>
            <field name="doall" eval="False"/>
            <field name="priority" eval="0"/>
            <field name="function">run_scheduler</field>
            <field name="args" eval="'()'"/>
        </record>

        <!-- Server Actions for notifications -->
        <record id="server_act_notification_begin" model="ir.actions.server">
            <field name="type">ir.actions.server</field>
            <field name="name">Deferred Action Begin</field>
            <field name="model_id" ref="model_deferred_action"/>
            <field name="state">other</field>
            <field name="condition">True</field>
            <field name="active" eval="1" />
        </record>

        <record id="server_act_notification_done" model="ir.actions.server">
            <field name="type">ir.actions.server</field>
            <field name="name">Deferred Action Done</field>
            <field name="model_id" ref="model_deferred_action"/>
            <field name="state">other</field>
            <field name="condition">True</field>
            <field name="active" eval="1" />
        </record>

        <record id="server_act_notification_fail" model="ir.actions.server">
            <field name="type">ir.actions.server</field>
            <field name="name">Deferred Action Failed</field>
            <field name="model_id" ref="model_deferred_action"/>
            <field name="state">other</field>
            <field name="condition">True</field>
            <field name="active" eval="1" />
        </record>

    </data>
</openerp>
